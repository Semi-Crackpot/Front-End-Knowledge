# 配置静态资源

### 配置静态资源的过程
1.  在项目的根目录下创建文件夹``public``，存放静态资源
2.  在入口文件``main.ts``中，引入express平台，并配置静态资源的根目录
    ```ts
    // 引入NestExpressApplication
    import { NestExpressApplication } from "@nestjs/platform-express";
    async function bootstrap() {
        // 实例化Nest对象时，使用NestExpressApplication泛型
        const app = await NestFactory.create<NestExpressApplication>(AppModule);
        // 配置静态资源的根目录为public文件夹
        app.useStaticAssets('public');
        await app.listen(8081);
    }
3.  配置成功后，在url处输入``localhost:8081/a.jpg``，就能访问``public/a.jpg``静态文件，文件内容显示在页面上

### 配置静态资源的虚拟目录
1.  配置访问静态资源的虚拟目录
    ```ts
    // 引入path模块的join方法，用来拼接路径
    import { join } from 'path'
    async function bootstrap() {
        const app = await NestFactory.create<NestExpressApplication>(AppModule);
        // 配置静态资源的根目录时，也可以使用join来拼接项目中存放静态资源的文件夹路径
        // __dirname指当前目录，..指上级目录，则拼接结果为 当前目录的上一级目录中的public文件夹
        app.useStaticAssets(join(__dirname, '..', 'public'), {
            // 设置prefix属性，属性的值即访问静态资源时需添加的虚拟目录
            prefix: '/static/'
        });
        await app.listen(8081);
    }
2.  配置成功后，在url处输入``localhost:8081/static/a.jpg``，才能访问``public/a.jpg``静态文件，文件内容显示在页面上

### 