# 网页可见性

### document.visibilityState
1.  document.visibilityState返回一个字符串，表示页面当前的可见性状态
  - hidden：页面彻底不可见
  - visible：页面至少一部分可见
  - prerender：页面即将或正在渲染，处于不可见状态
2.  document.visibilityState属性返回 hidden 的四种情况
  - 浏览器最小化
  - 浏览器没有最小化，但是当前页面切换成了背景页
  - 浏览器将要卸载（unload）页面
  - 操作系统触发锁屏屏幕

### visibilitychange
1.  只要document.visibilityState属性发生变化，就会触发 visibilitychange 事件
2.  利用监听这个事件，来监听页面可见性的变化
  ```js
  document.addEventListener('visibilitychange', function () {
    if (document.visibilityState === 'hidden') {
      document.title = '页面不可见';
    }
    if (document.visibilityState === 'visible') {
      document.title = '页面可见';
    }
  });
  ```

### 页面卸载unload
- 页面卸载的三种情况
  1.  页面可见时，用户关闭 Tab 页或浏览器窗口
  2.  页面可见时，用户在当前窗口前往另一个页面
  3.  页面不可见时，用户或系统关闭浏览器窗口

### 